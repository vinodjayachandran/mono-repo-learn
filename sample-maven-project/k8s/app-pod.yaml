apiVersion: v1
kind: Pod
metadata:
  name: sample-maven-project
  namespace: sample-maven-project
  labels:
    app: sample-maven-project
spec:
  containers:
    - name: app
      image: ghcr.io/vinodjayachandran/mono-repo-learn/sample-maven-project:latest
      ports:
        - containerPort: 8080
      env:
        - name: SPRING_PROFILES_ACTIVE
          value: prod
        - name: SPRING_DATA_REDIS_HOST
          value: redis
        - name: SPRING_DATA_REDIS_PORT
          value: "6379"
      readinessProbe:
        httpGet:
          path: /actuator/health
          port: 8080
        initialDelaySeconds: 15
        periodSeconds: 10
      livenessProbe:
        httpGet:
          path: /actuator/health
          port: 8080
        initialDelaySeconds: 30
        periodSeconds: 20
